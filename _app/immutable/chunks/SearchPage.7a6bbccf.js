import{s as E,N as L,Z as R,o as k,q as $,P as U,f as w,a as V,g as b,h as S,d as _,c as j,j as v,i as h,_ as M,Q as N,R as Q,S as T}from"./scheduler.b8713bd1.js";import{S as W,i as Z,b as P,d as I,m as q,a as d,t as g,e as C,f as z}from"./index.6c32eccf.js";import{C as A}from"./CommonPage.7912cc8a.js";import{I as B}from"./Input.d7d46c98.js";import{p as F}from"./stores.c453e7b8.js";import{b as G}from"./paths.32ec79d7.js";function H(o){let s,t,n,l,r,u;function f(e){o[7](e)}let m={placeholder:"Search..."};o[0]!==void 0&&(m.value=o[0]),t=new B({props:m}),o[6](t),$.push(()=>z(t,"value",f));const p=o[5].default,i=U(p,o,o[8],null);return{c(){s=w("div"),P(t.$$.fragment),l=V(),r=w("div"),i&&i.c(),this.h()},l(e){s=b(e,"DIV",{class:!0});var c=S(s);I(t.$$.fragment,c),c.forEach(_),l=j(e),r=b(e,"DIV",{class:!0});var a=S(r);i&&i.l(a),a.forEach(_),this.h()},h(){v(s,"class","w-100% row"),v(r,"class","w-100% col flex-1")},m(e,c){h(e,s,c),q(t,s,null),h(e,l,c),h(e,r,c),i&&i.m(r,null),u=!0},p(e,c){const a={};!n&&c&1&&(n=!0,a.value=e[0],M(()=>n=!1)),t.$set(a),i&&i.p&&(!u||c&256)&&N(i,p,e,e[8],u?T(p,e[8],c,null):Q(e[8]),null)},i(e){u||(d(t.$$.fragment,e),d(i,e),u=!0)},o(e){g(t.$$.fragment,e),g(i,e),u=!1},d(e){e&&(_(s),_(l),_(r)),o[6](null),C(t),i&&i.d(e)}}}function J(o){let s,t;return s=new A({props:{title:o[1],$$slots:{default:[H]},$$scope:{ctx:o}}}),{c(){P(s.$$.fragment)},l(n){I(s.$$.fragment,n)},m(n,l){q(s,n,l),t=!0},p(n,[l]){const r={};l&2&&(r.title=n[1]),l&261&&(r.$$scope={dirty:l,ctx:n}),s.$set(r)},i(n){t||(d(s.$$.fragment,n),t=!0)},o(n){g(s.$$.fragment,n),t=!1},d(n){C(s,n)}}}function K(o,s,t){let n;L(o,F,a=>t(4,n=a));let{$$slots:l={},$$scope:r}=s,{title:u="Title"}=s,{search:f=""}=s,m;const p=R();let i=!1;k(()=>{let a=new URLSearchParams(window.location.search);t(0,f=a.get("q")??""),t(3,i=!0)});function e(a){$[a?"unshift":"push"](()=>{m=a,t(2,m)})}function c(a){f=a,t(0,f)}return o.$$set=a=>{"title"in a&&t(1,u=a.title),"search"in a&&t(0,f=a.search),"$$scope"in a&&t(8,r=a.$$scope)},o.$$.update=()=>{if(o.$$.dirty&1&&p("search",{search:f.trim().toLowerCase()}),o.$$.dirty&29&&i){let a=new URLSearchParams(window.location.search);a.set("q",f);const y=`${window.location.protocol}//${window.location.host}${window.location.pathname}?${a.toString()}`,D=window.history.state;window.history.replaceState(D,"",y),n.url.pathname.startsWith(`${G}/search`)&&m&&m.focus()}},[f,u,m,i,n,l,e,c,r]}class ae extends W{constructor(s){super(),Z(this,s,K,J,E,{title:1,search:0})}}export{ae as S};
